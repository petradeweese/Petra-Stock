(function(){function e(t,n,a){(t||document.body).dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:a}))}function o(t){t.addEventListener("submit",function(n){n.preventDefault();const a=t.getAttribute("hx-post")||t.action,c=t.getAttribute("hx-target"),r=t.getAttribute("hx-indicator"),d=c?document.querySelector(c):null,i=r?document.querySelector(r):null;e(t,"htmx:beforeRequest",{}),document.body.classList.add("htmx-request"),i&&i.classList.add("htmx-request"),fetch(a,{method:"POST",body:new FormData(t)}).then(s=>s.text()).then(s=>{d&&(d.innerHTML=s),e(d||t,"htmx:afterSwap",{target:d})}).catch(s=>{e(d||t,"htmx:responseError",{error:s})}).finally(()=>{document.body.classList.remove("htmx-request"),i&&i.classList.remove("htmx-request")})})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("form[hx-post]").forEach(o)})})();
